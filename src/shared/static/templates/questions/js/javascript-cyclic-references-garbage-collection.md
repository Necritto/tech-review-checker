# ❓ Как циклические ссылки влияют на сборку мусора в JavaScript?

---

## Что такое циклические ссылки?

- Циклические ссылки возникают, когда два или более объекта ссылаются друг на друга, образуя замкнутый круг.

```js
const objA = {};
const objB = {};

objA.ref = objB;
objB.ref = objA;
```

---

## Влияние на сборщик мусора

- **Современные сборщики мусора в JavaScript работают по принципу достижимости, а не просто подсчёта ссылок.**

- Если циклически связанные объекты **недостижимы из корневых точек** (например, стек или глобальные объекты), то они считаются кандидатами на удаление и будут собраны.

- Таким образом, **циклы не мешают сборке мусора**, если на объекты из цикла нет внешних ссылок.

---

## Пример

```js
(function() {
  const objA = {};
  const objB = {};
  objA.ref = objB;
  objB.ref = objA;
})(); // После завершения функции ссылки на objA и objB отсутствуют, GC может очистить их
```

---

## Когда циклы могут привести к утечкам памяти?

- Если циклические объекты **доступны из корня** (например, глобальные переменные, замыкания), они не будут собраны.

- Частая ошибка — хранить циклы в глобальных структурах, забывая их очищать.

---

## Итог

- Циклические ссылки сами по себе не мешают сборке мусора в современных движках.

- Важно контролировать достижимость объектов — если на цикл нет внешних ссылок, он будет собран.

- Утечки памяти возникают из-за сохранения ссылок из корня, а не из-за циклов как таковых.

---
