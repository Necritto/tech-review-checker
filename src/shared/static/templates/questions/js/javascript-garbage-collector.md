# ❓ Как работает сборщик мусора в JavaScript?

---

## Основная задача сборщика мусора (Garbage Collector, GC)

- Автоматически освобождает память, занятую объектами, которые **больше не достижимы** из корневых точек (root set).

- Позволяет разработчику не заботиться об освобождении памяти вручную.

---

## Основные принципы работы

1. **Достижимость объектов**

- Объекты считаются достижимыми, если на них есть ссылки из:

  - Стекового контекста выполнения (переменные функций).

  - Глобальных объектов (например, `window` в браузере).

  - Других достижимых объектов.

- Если объект недостижим, он считается кандидатом на сборку.

2. **Алгоритм маркировки и очистки (Mark-and-Sweep)**

- GC начинает с корневых объектов, отмечает все достижимые объекты.

- Все неотмеченные объекты удаляются, память освобождается.

---

## Особенности и оптимизации

- Современные движки используют инкрементальные и генерационные сборщики, чтобы уменьшить задержки.

- Генерационный GC разделяет объекты по «возрасту» — новые объекты чаще собираются, старые реже.

---

## Проблемы и утечки памяти

- Циклические ссылки не проблема для современных GC, так как они ориентируются на достижимость.

- Утечки возникают при сохранении ненужных ссылок (например, глобальные переменные, замыкания).

---

## Итог

- GC в JS — автоматический процесс, освобождающий память от недостижимых объектов.

- Основной алгоритм — маркировка достижимых объектов и очистка остальных.

- Знание работы GC помогает писать эффективный и безопасный код.

---
