# ❓ Что такое замыкание (Closure) в JavaScript?

---

## Определение

- **Замыкание** — это функция вместе с окружающим её лексическим окружением, которое сохраняет доступ к переменным внешней функции, даже после того, как внешняя функция завершила выполнение.

- Проще: функция "запоминает" контекст, в котором была создана, включая переменные из внешних областей видимости.

---

## Пример

```js
function outer() {
  let count = 0;

  return function inner() {
    count++;
    return count;
  };
}

const counter = outer();

console.log(counter()); // 1
console.log(counter()); // 2
console.log(counter()); // 3
```

- Здесь `inner` замыкает переменную `count` из `outer`, сохраняя её состояние между вызовами.

---

## Как работает замыкание

- При вызове `outer()` создаётся лексическое окружение с переменной `count`.
- Возвращаемая функция `inner` сохраняет ссылку на это окружение.
- Даже после завершения `outer`, `inner` имеет доступ к `count`.

---

## Практическое применение

- Инкапсуляция данных (приватные переменные).
- Создание функций с сохранённым состоянием.
- Частичное применение функций и каррирование.
- Обработка асинхронных задач с доступом к лексическому окружению.

---

## Возможные проблемы

- Утечки памяти, если замыкания долго живут и сохраняют большие объекты.
- Неоптимальное использование замыканий может привести к трудностям в отладке.

---

## Итог

- Замыкание — фундаментальная концепция JavaScript, обеспечивающая мощные возможности работы с областью видимости и состоянием.
- Понимание замыканий помогает писать более чистый, модульный и эффективный код.

---
