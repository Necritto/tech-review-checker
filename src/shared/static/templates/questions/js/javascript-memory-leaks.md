# ❓ Как избежать утечек памяти в JavaScript?

---

## Основные причины утечек памяти

- **Забытые таймеры и слушатели событий** — не удалённые `setInterval`, `setTimeout`, или event listeners.

- **Глобальные переменные и ссылки** — объекты, сохранённые в глобальной области видимости.

- **Замыкания, сохраняющие лишние данные** — ссылки на внешние переменные, которые больше не нужны.

- **Detached DOM nodes** — удалённые из DOM элементы, на которые остаются ссылки в коде.

- **Циклические ссылки с сохранением из корня** — когда объекты ссылаются друг на друга и доступны из глобальной области.

---

## Как избежать утечек

1. **Правильно очищать слушатели событий**

```js
element.addEventListener('click', handler);
// ...
element.removeEventListener('click', handler);
```

2. **Отменять таймеры**

```js
const id = setInterval(() => { /* ... */ }, 1000);
// ...
clearInterval(id);
```

3. **Минимизировать использование глобальных переменных**

- Использовать локальные области видимости, модули.

4. **Избегать лишних замыканий**

- Освобождать ссылки, когда они не нужны.

5. **Управлять DOM элементами**

- Удалять ссылки на удалённые узлы.

6. **Использовать WeakMap и WeakSet**

- Для хранения временных данных, чтобы не препятствовать сборке мусора.

---

## Инструменты для поиска утечек

- Chrome DevTools — Memory профилирование.

- Lighthouse — анализ производительности и утечек.

---

## Итог

- Утечки возникают при сохранении ненужных ссылок.

- Важно контролировать жизненный цикл объектов и освобождать ресурсы.

- Использование правильных паттернов и инструментов помогает предотвратить утечки.

---
