# ❓ Плюсы и минусы иммутабельности. Как достичь иммутабельности в JavaScript?

---

## Что такое иммутабельность?

- Иммутабельность — свойство объекта или данных, при котором они **не изменяются после создания**.

- Вместо изменения создаются новые объекты с изменёнными значениями.

---

## Плюсы иммутабельности

- **Предсказуемость** — легче отслеживать изменения и избегать побочных эффектов.

- **Удобство для управления состоянием** — например, в React и Redux, где обновления требуют новых объектов.

- **Улучшенная отладка и откат** — легко хранить историю состояний.

- **Безопасность в многопоточном окружении** — данные не меняются одновременно.

---

## Минусы иммутабельности

- **Дополнительные затраты по памяти** — создание новых копий вместо изменения существующих объектов.

- **Потенциальное снижение производительности** — особенно при глубоких и больших структурах.

- Требует дисциплины и правильных инструментов.

---

## Как достичь иммутабельности в JS?

### 1. Использовать методы, которые не мутируют оригинал

- Для массивов: `.map()`, `.filter()`, `.slice()`, `[...arr]` и т.п.

- Для объектов: оператор spread `{ ...obj }`, `Object.assign({}, obj)`.

### 2. Не изменять входные данные, а создавать новые объекты

```js
const obj = { a: 1, b: 2 };
const newObj = { ...obj, b: 3 }; // новый объект, исходный не изменён
```

### 3. Для глубоких структур — использовать глубокое копирование или специализированные библиотеки

- `lodash.cloneDeep()`

- `immer` — позволяет писать код с мутированием, а под капотом создаёт иммутабельные структуры.

---

## Итог

- Иммутабельность — важный принцип для надёжного и предсказуемого кода.

- В JS достигается через создание новых копий и избегание мутаций.

- Важно балансировать между производительностью и преимуществами иммутабельности.

---
