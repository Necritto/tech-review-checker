# ❓ Разница между глубокой (deep) и поверхностной (shallow) копиями объекта. Как сделать каждую из них?

---

## Поверхностная копия (shallow copy)

- Создаёт новый объект, копируя только **ссылки на вложенные объекты**.

- Вложенные объекты **не копируются**, а используются те же, что и в оригинале.

- Изменения во вложенных объектах отражаются в обеих копиях.

### Примеры поверхностного копирования

```js
const original = { a: 1, b: { c: 2 } };

const shallowCopy1 = Object.assign({}, original);
const shallowCopy2 = { ...original };

shallowCopy1.b === original.b; // true (ссылка на один объект)
```

---

## Глубокая копия (deep copy)

- Создаёт полностью новый объект со всеми вложенными объектами и значениями.

- Изменения в копии не влияют на оригинал и наоборот.

### Способы создания глубокой копии

1. **JSON-подход** (только для простых объектов без функций, undefined и циклов):

```js
const deepCopy = JSON.parse(JSON.stringify(original));
```

2. **Рекурсивная функция глубокого копирования** (пишется вручную или берётся из библиотек).

3. **Использование библиотек** — например, `lodash.cloneDeep()`.

---

## Важные замечания

| Тип копии     | Копируются ссылки на вложенные объекты? | Изменения в вложенных объектах влияют на оригинал? |
| ------------- | --------------------------------------- | -------------------------------------------------- |
| Поверхностная | Да                                      | Да                                                 |
| Глубокая      | Нет                                     | Нет                                                |

---

## Итог

- Поверхностная копия копирует только первый уровень объекта, вложенные объекты остаются ссылками.

- Глубокая копия создаёт полную независимую копию со всеми вложенными структурами.

- Для глубокого копирования выбирайте способ в зависимости от требований и структуры данных.

---
