# ‚öôÔ∏è –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Ä–µ—Ä–µ–Ω–¥–µ—Ä–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ reconciliation

---

## üîÅ –ß—Ç–æ —Ç–∞–∫–æ–µ reconciliation?

**Reconciliation** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –¥–µ—Ä–µ–≤–∞ React-—ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –¥–µ—Ä–µ–≤–æ–º, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å **–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è DOM.

–û–Ω –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ—Ä–µ–Ω–¥–µ—Ä–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑-–∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è `state`, `context` –∏ —Ç. –¥.).

---

## üß± –≠—Ç–∞–ø—ã reconciliation

### 1. **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¥–µ—Ä–µ–≤–∞ React-—ç–ª–µ–º–µ–Ω—Ç–æ–≤**

–ö–æ–≥–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –µ–≥–æ —Ñ—É–Ω–∫—Ü–∏—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è **–Ω–æ–≤—ã–π JSX** ‚Äî —ç—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –¥–µ—Ä–µ–≤–æ React-—ç–ª–µ–º–µ–Ω—Ç–æ–≤ (plain JS-–æ–±—ä–µ–∫—Ç—ã).

```tsx
function Component() {
  return <div>Hello</div>;
}
```

### 2. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∏ —Å—Ç–∞—Ä–æ–≥–æ –¥–µ—Ä–µ–≤–∞ (diff)**

React —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –Ω–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –ø–æ **—Å–≤–æ–µ–π —ç–≤—Ä–∏—Å—Ç–∏–∫–µ**:

* **–¢–∏–ø—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –ø–µ—Ä–≤—ã–º–∏**:

  * –ï—Å–ª–∏ —Ç–∏–ø —Å–æ–≤–ø–∞–¥–∞–µ—Ç (`div` ‚Üí `div`), —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è `props`
  * –ï—Å–ª–∏ —Ä–∞–∑–Ω—ã–µ ‚Äî —Å—Ç–∞—Ä—ã–π —É–∑–µ–ª —É–¥–∞–ª—è–µ—Ç—Å—è, –Ω–æ–≤—ã–π –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è

* **–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ**:
  –î–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è —Ç–∞–∫–∂–µ, —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ

* **–°–ø–∏—Å–∫–∏ –∏ –∫–ª—é—á–∏ (`key`)**:
  –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å–æ —Å–ø–∏—Å–∫–∞–º–∏ –∫–ª—é—á –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

### 3. **–°–æ–∑–¥–∞–Ω–∏–µ Fiber-—É–∑–ª–æ–≤**

React –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Fiber-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É**, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–±–∏–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —á–∞—Å—Ç–∏. –î–ª—è –∫–∞–∂–¥–æ–≥–æ React-—ç–ª–µ–º–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è `FiberNode`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç:

* –¢–∏–ø –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
* –ï–≥–æ `props`
* –°–≤—è–∑–∏ —Å —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏ –∏ —Å–æ—Å–µ–¥—è–º–∏
* –≠—Ñ—Ñ–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å

### 4. **–ü–æ–º–µ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π (effect tags)**

–ù–∞ —ç—Ç–∞–ø–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∫–∞–∂–¥—ã–π `FiberNode` –ø–æ–ª—É—á–∞–µ—Ç **—Ñ–ª–∞–≥ –¥–µ–π—Å—Ç–≤–∏—è**:

* `Placement` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π DOM-—É–∑–µ–ª
* `Update` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç—ã
* `Deletion` ‚Äî —É–¥–∞–ª–∏—Ç—å —É–∑–µ–ª
* `NoEffect` ‚Äî –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å

---

## üîß Commit phase (—Ñ–∏–∫—Å–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π)

–ü–æ—Å–ª–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –∏ —Ä–∞—Å—á—ë—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π:

* –í **commit phase** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫ **—Ä–µ–∞–ª—å–Ω–æ–º—É DOM**
* –¢–∞–∫–∂–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **–ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã** (`useEffect`, `componentDidMount` –∏ —Ç.–ø.)

---

## ‚ö†Ô∏è –ß—Ç–æ –≤–∞–∂–Ω–æ –∑–Ω–∞—Ç—å

* Reconciliation **–Ω–µ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç DOM**, —Ç–æ–ª—å–∫–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
* –í—Å–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏–¥—É—Ç **–ø–æ —Å—Å—ã–ª–∫–µ**
* –ü—Ä–∏ —Ä–∞–∑–Ω—ã—Ö `key` –≤ —Å–ø–∏—Å–∫–∞—Ö ‚Äî –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–¥–∞–ª—è—é—Ç—Å—è –∏ –º–æ–Ω—Ç–∏—Ä—É—é—Ç—Å—è –∑–∞–Ω–æ–≤–æ
* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ç–∏–ø–∞ `React.memo`, `useMemo`, `shouldComponentUpdate` **–≤–ª–∏—è—é—Ç –¥–æ –Ω–∞—á–∞–ª–∞ reconciliation**

---

## üß† –ü—Ä–∏–º–µ—Ä

```tsx
<ul>
  {items.map(item => <li key={item.id}>{item.text}</li>)}
</ul>
```

* –ï—Å–ª–∏ `key` —Å—Ç–∞–±–∏–ª—å–Ω—ã, React –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ `li`
* –ï—Å–ª–∏ `key` –Ω–µ—Ç –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ (`index`), React —É–¥–∞–ª–∏—Ç –∏ —Å–æ–∑–¥–∞—Å—Ç –≤—Å–µ –∑–∞–Ω–æ–≤–æ

---

## üö´ –û—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ —Å reconciliation

* –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `key` –≤ —Å–ø–∏—Å–∫–∞—Ö ‚Üí –ø–æ—Ç–µ—Ä—è —Ñ–æ–∫—É—Å–∞, –±–∞–≥–∏ –≤ –∞–Ω–∏–º–∞—Ü–∏—è—Ö
* –ü–µ—Ä–µ–¥–∞—á–∞ –Ω–æ–≤—ã—Ö —Å—Å—ã–ª–æ–∫ –≤ `props` –±–µ–∑ –Ω—É–∂–¥—ã ‚Üí –ª–∏—à–Ω–∏–µ —Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã
* –ú—É—Ç–∞—Ü–∏—è state –Ω–∞–ø—Ä—è–º—É—é ‚Üí React –Ω–µ "–≤–∏–¥–∏—Ç" –∏–∑–º–µ–Ω–µ–Ω–∏–π

---
