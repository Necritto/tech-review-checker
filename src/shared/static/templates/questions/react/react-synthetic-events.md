# ❓ Что такое синтетические события (Synthetic Events) в React?

---

## Определение

- **SyntheticEvent** — это единый кросс‑браузерный обёртчик React над нативными событиями DOM.  
- Он предоставляет **одинаковый интерфейс** (`event.type`, `event.target`, `event.preventDefault()` и т.д.) во всех браузерах.

---

## Основные характеристики

1. **Нормализация**  
   React оборачивает нативное событие в объект `SyntheticEvent`, устраняя различия между браузерами.  

2. **Пулинг (Event Pooling)**  
   - React реиспользует объекты `SyntheticEvent` для оптимизации памяти.  
   - После выполнения обработчика все поля события обнуляются.  
   - Если нужно сохранить данные — вызывайте `event.persist()`.  

3. **Делегирование**  
   - Все слушатели прикрепляются **одному корневому обработчику** на документе.  
   - React самостоятельно распределяет событие к нужному компоненту через виртуальный DOM.  

4. **Совместимость с фазами**  
   - Поддерживаются и фаза захвата (`onClickCapture`), и фаза всплытия (`onClick`).  
   - Можно остановить распространение через `event.stopPropagation()`.

---

## Пример использования

```jsx
function Button() {
  function handleClick(event) {
    console.log(event.type);        // "click"
    console.log(event.nativeEvent); // оригинальное нативное событие
    event.preventDefault();
    
    // Чтобы получить event после асинхронного кода:
    event.persist();
    setTimeout(() => {
      console.log(event.target);    // доступно, т.к. событие не было возвращено в пул
    }, 100);
  }

  return <button onClick={handleClick}>Click me</button>;
}
```

- `event.nativeEvent` даёт доступ к оригинальному DOM‑событию.
- `event.persist()` отключает пулинг для этого события.

---

## Почему важно

- **Унифицированный API** — одна точка обучения и поддерживаемый React механизм.
- **Производительность** — благодаря пулингу снижается нагрузка на сборщик мусора.
- **Контроль и безопасность** — централизованное делегирование упрощает управление подписками.

---
