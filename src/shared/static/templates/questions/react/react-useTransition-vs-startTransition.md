# ⚖️ Когда предпочтительнее использовать `useTransition` вместо глобального `startTransition`

---

## Общее сходство

- Оба API маркируют обновления состояния как **низкоприоритетные transitions**.  
- Под капотом они используют один и тот же механизм React Scheduler и Fiber.

---

## Ключевое отличие

| Параметр                   | `startTransition`               | `useTransition`                                    |
|----------------------------|---------------------------------|----------------------------------------------------|
| Импорт                     | `import { startTransition }`    | `import { useTransition }`                         |
| Контроль состояния         | Нет                              | Да — возвращает `[isPending, startTransition]`     |
| Индикация загрузки         | ❌ невозможно                   | ✅ можно отобразить индикатор через `isPending`    |
| Контекст вызова            | В любом месте, где есть React   | Только внутри функционального компонента React     |
| Сценарии использования     | Простой transition без UI-флага | Complex UI — нужен индикатор или логика ожидания   |

---

## Когда выбрать `useTransition`

1. **Нужно показать индикатор загрузки**  
   Если вы хотите отобразить спиннер или сообщение «Загружается…», используйте `useTransition`, чтобы получить булев флаг `isPending` и управлять UI.  

2. **Управление несколькими transition‑флагами**  
   Когда в компоненте несколько независимых transition‑обновлений: `useTransition` позволяет отслеживать каждый через свой флаг.

3. **Локализация transition‑логики**  
   Если transition‑логика тесно связана с самим компонентом (например, ввод + список результатов), `useTransition` удобнее держать рядом с `setState`.

---

## Когда хватит `startTransition`

- **Простые обновления** без необходимости показывать loading‑UI.  
- Внутри **утилитарных модулей** или вне компонента (например, в колбэках хука-прошивателя), где не нужен флаг ожидания.  

---

## Итог

- Используйте **`useTransition`**, когда вам нужен **UI‑флаг** (`isPending`) и tight coupling с компонентом.  
- Используйте **глобальный `startTransition`**, когда достаточно просто маркировать обновление, и вам **не нужен** индикатор или локальный флаг ожидания.

---
