### **Причина отсутствия Layout при transform**

#### **1. Архитектурное разделение**

Браузеры оптимизируют рендеринг через **отдельные слои (compositor layers)**:

- **Layout**: Работает с CPU, вычисляет геометрию в **основном потоке**
- **Transform/Opacity**: Обрабатывается GPU в **композитном потоке**

#### **2. Математическая основа**

Преобразования используют **матричные операции** в 4D-пространстве:

```
Новый пиксель = Матрица преобразования × Исходный пиксель
```

Это не требует пересчёта:

- Позиции соседних элементов
- Размеров родительского контейнера

#### **3. Этапы обработки**

1. **Initial Layout**: Создаёт текстуру слоя (bitmap)
2. **GPU Composition**: Применяет transform как шейдерную операцию:

    ```glsl
    // Упрощённый шейдер GLSL
    vec4 transformed = u_transformMatrix * vec4(position, 1.0);
    ```

#### **4. Ограничения оптимизации**

- **Не влияет на**:

    ```css
    width/height, margin, padding  /* Вызовут reflow */
    ```

- **Требует**:

    ```css
    will-change: transform; /* Явное выделение слоя */
    ```

---

### **Сравнение с другими свойствами**

| Свойство     | Этап рендеринга | CPU/GPU   |
| ------------ | --------------- | --------- |
| `transform`  | Composite       | GPU       |
| `top/left`   | Layout → Paint  | CPU       |
| `opacity`    | Composite       | GPU       |
| `box-shadow` | Paint           | CPU → GPU |
