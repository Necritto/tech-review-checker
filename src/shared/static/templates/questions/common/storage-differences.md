# Разница между `cookie`, `localStorage` и `sessionStorage`

Эти три механизма используются для хранения данных в браузере, но различаются по области применения, сроку жизни, объёму и доступности.

---

## Сравнительная таблица

| Свойство                    | `cookie`                                 | `localStorage`                  | `sessionStorage`                       |
| --------------------------- | ---------------------------------------- | ------------------------------- | -------------------------------------- |
| **Объём**                   | ~4 КБ                                    | ~5–10 МБ                        | ~5–10 МБ                               |
| **Срок жизни**              | Задаётся вручную (`Expires` / `Max-Age`) | До очистки вручную              | Пока открыт вкладка/вкладка не закрыта |
| **Доступность**             | **На клиенте и сервере**                 | Только на клиенте (JS)          | Только на клиенте (JS)                 |
| **Автоматическая отправка** | Да, с каждым HTTP-запросом к домену      | Нет                             | Нет                                    |
| **API**                     | `document.cookie` (низкоуровневое)       | `localStorage.getItem()` и т.п. | `sessionStorage.getItem()` и т.п.      |
| **Область действия**        | Доступны во всех вкладках                | Доступны во всех вкладках       | Только в текущей вкладке               |
| **Поддержка TTL**           | Да (через заголовки)                     | Нет (только вручную)            | Нет (удаляется автоматически)          |

---

## Краткое объяснение

- **cookie**

  - Используются для серверной аутентификации и хранения небольших данных.
  - Автоматически передаются на сервер с каждым запросом.
  - Подходят для междоменной авторизации, но требуют осторожности из-за ограничений по размеру и безопасности.

- **localStorage**

  - Для хранения данных, которые должны жить после перезагрузки и закрытия вкладки.
  - Например: настройки темы, кэш UI, информация о версии.

- **sessionStorage**
  - Живёт до закрытия вкладки.
  - Подходит для хранения временных данных в рамках одной сессии (например, черновик формы).

---

## Безопасность

- Все три механизма уязвимы для XSS.
- `cookie` может быть защищён флагами `HttpOnly`, `Secure`, `SameSite` — у остальных такого нет.
- Не храните чувствительные данные в `localStorage`/`sessionStorage`.
