
```jsx
/**
    Дан пример React компонента.
    Необходимо проанализировать компонент на наличие ошибок
*/
export default function Input({ value, onChange, placeholder }) {
    const [internalValue, setInternalValue] = React.useState(value);

    React.useEffect(() => {
        setInternalValue(value);
    }, []);

    const handleChange = (e) => {
        setInternalValue(e.target.value);

        if (onChange) {
            onChange(e.target.value);
        }
    };

    return (
        <input
            placeholder={placeholder}
            value={internalValue}
            onChange={handleChange}
            onBlur={() => console.log("Blurred with value:", internalValue)}
        />
    );
}
```

---

<!-- Проблемы в инпуте выше -->

| №   | Ошибка / Антипаттерн                                      | Объяснение и последствия                                                                                                                                                                       |
| --- | --------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1   | **Неверная зависимость в useEffect**                      | Хук вызывается только один раз при монтировании (`[]`), поэтому если проп `value` изменится, внутреннее состояние не обновится. В итоге компонент будет "зависать" на первоначальном значении. |
| 2   | **Неправильная синхронизация пропса и локального стейта** | Использование локального state с пропсом без полноценной синхронизации ведёт к рассинхронизации значения. Это ломает контролируемый режим компонента.                                          |
| 3   | **Обработчик onChange не мемоизирован**                   | Каждый рендер создаёт новую функцию, что может привести к лишним перерисовкам дочерних компонентов, если обработчик передаётся вниз по дереву.                                                 |
| 4   | **Компонент не полностью контролируемый**                 | Родитель не может полностью контролировать значение инпута, т.к. компонент хранит локальное состояние, которое не обновляется при изменении пропса.                                            |
| 5   | **Отсутствие дебаунса или оптимизации при частом вводе**  | В случае сложной обработки изменений (например, запросы к API), нет оптимизации ввода, что может вызвать излишнюю нагрузку.                                                                    |
| 6   | **Отсутствие обработки edge cases**                       | Не учитывается, что `onChange` может отсутствовать или быть не функцией, нет валидации или ограничений ввода.                                                                                  |
| 7   | **Побочный эффект `console.log` в onBlur**                | Логика побочных эффектов должна быть отделена, а не встроена прямо в JSX-обработчики, что усложняет тестирование и поддержку.                                                                  |
